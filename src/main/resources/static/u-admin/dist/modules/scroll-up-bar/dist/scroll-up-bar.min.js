/* scroll-up-bar v0.3.0 (https://github.com/eduardomb/scroll-up-bar) */
(function(e){"use strict";var t;e.scrollupbar=function(n,r){function i(){return o.scrollTop()<=n.offset().top}function s(){return o.scrollTop()<n.offset().top+n.outerHeight()}r=e.extend({enterViewport:e.noop,fullyEnterViewport:e.noop,exitViewport:e.noop,partiallyExitViewport:e.noop},r);var o=e(window),u=e(document),a=n.css("position")=="fixed"?0:n.offset().top,f=o.scrollTop(),l=n.position().top,c;return e.scrollupbar.isInViewport=s(),e.scrollupbar.isFullyInViewport=i(),o.on("scroll.scrollupbar",function(){var t=o.scrollTop(),h=n.outerHeight();if(t<0||t>u.height()-o.height())return;c&&clearTimeout(c),t<f?(!e.scrollupbar.isInViewport&&f-h>=a&&(n.css("top",f-h),e.scrollupbar.isInViewport=!0,r.enterViewport()),i()&&(t>=a?n.css({position:"fixed",top:0}):n.css({position:"absolute",top:l}),e.scrollupbar.isFullyInViewport||(e.scrollupbar.isFullyInViewport=!0,r.fullyEnterViewport())),c=setTimeout(function(){e.scrollupbar.isFullyInViewport||(n.css({position:"fixed",top:n.offset().top-t}),n.animate({top:0},100,function(){e.scrollupbar.isFullyInViewport=!0,r.fullyEnterViewport()}))},400)):t>f&&(e.scrollupbar.isFullyInViewport&&(n.css({transform:"translate3d(0, 0, 0)",position:"absolute",top:f>a?f:l}),i()||(e.scrollupbar.isFullyInViewport=!1,r.partiallyExitViewport())),e.scrollupbar.isInViewport&&!s()&&(e.scrollupbar.isInViewport=!1,r.exitViewport()),c=setTimeout(function(){s()&&t-h>=a&&n.animate({top:t-h},100,function(){e.scrollupbar.isInViewport=!1,r.exitViewport()})},400)),f=t}),t=function(){o.off(".scrollupbar"),n.css({position:"absolute",top:l})},n},e.scrollupbar.destroy=function(){if(t)return t()},e.fn.scrollupbar=function(t){return e.scrollupbar(this,t)}})(jQuery);
